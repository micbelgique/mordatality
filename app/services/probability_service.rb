class ProbabilityService

  def self.birth_probability()
    Birth.all.collect do |birth|
      birth.probability
    end
  end

  def self.male_death_probability(province_id)
    Mortality.where({
      :gender      => 'M',
      :province_id => province_id
    }).collect do |mortality|
      mortality.death_probability
    end
  end

  def self.female_death_probability(province_id)
    Mortality.where({
      :gender      => 'F',
      :province_id => province_id
    }).collect do |mortality|
      mortality.death_probability
    end
  end

  def self.male_migration_probability
    {
      :in  => 80_735.to_f / 5_312_221,
      :out => 53_390.to_f / 5_312_221
    }
  end

  def self.female_migration_probability
    {
      :in  => 65_674.to_f / 5_527_684,
      :out => 37_662.to_f / 5_527_684
    }
  end

  def self.male_age_repartition
    [
      64925 / 5312221.0,
      65716 / 5312221.0,
      64309 / 5312221.0,
      63915 / 5312221.0,
      62889 / 5312221.0,
      61972 / 5312221.0,
      60267 / 5312221.0,
      59927 / 5312221.0,
      60806 / 5312221.0,
      61900 / 5312221.0,
      61011 / 5312221.0,
      61634 / 5312221.0,
      62535 / 5312221.0,
      62512 / 5312221.0,
      62133 / 5312221.0,
      63012 / 5312221.0,
      64858 / 5312221.0,
      67346 / 5312221.0,
      68760 / 5312221.0,
      68207 / 5312221.0,
      67128 / 5312221.0,
      66945 / 5312221.0,
      66099 / 5312221.0,
      66398 / 5312221.0,
      64972 / 5312221.0,
      66357 / 5312221.0,
      67250 / 5312221.0,
      69396 / 5312221.0,
      70888 / 5312221.0,
      71370 / 5312221.0,
      71837 / 5312221.0,
      70668 / 5312221.0,
      70014 / 5312221.0,
      69769 / 5312221.0,
      68912 / 5312221.0,
      71328 / 5312221.0,
      73651 / 5312221.0,
      76106 / 5312221.0,
      77838 / 5312221.0,
      79087 / 5312221.0,
      78568 / 5312221.0,
      78132 / 5312221.0,
      79377 / 5312221.0,
      81283 / 5312221.0,
      83463 / 5312221.0,
      85503 / 5312221.0,
      83937 / 5312221.0,
      82102 / 5312221.0,
      81497 / 5312221.0,
      80787 / 5312221.0,
      80408 / 5312221.0,
      78636 / 5312221.0,
      76881 / 5312221.0,
      74793 / 5312221.0,
      73451 / 5312221.0,
      71903 / 5312221.0,
      70253 / 5312221.0,
      69361 / 5312221.0,
      66024 / 5312221.0,
      65934 / 5312221.0,
      65393 / 5312221.0,
      65222 / 5312221.0,
      63983 / 5312221.0,
      63660 / 5312221.0,
      52808 / 5312221.0,
      52091 / 5312221.0,
      48809 / 5312221.0,
      42547 / 5312221.0,
      38016 / 5312221.0,
      41590 / 5312221.0,
      44049 / 5312221.0,
      44089 / 5312221.0,
      41831 / 5312221.0,
      39337 / 5312221.0,
      37819 / 5312221.0,
      37272 / 5312221.0,
      35710 / 5312221.0,
      35087 / 5312221.0,
      33469 / 5312221.0,
      31212 / 5312221.0,
      27156 / 5312221.0,
      24714 / 5312221.0,
      22250 / 5312221.0,
      19781 / 5312221.0,
      17939 / 5312221.0,
      15561 / 5312221.0,
      13092 / 5312221.0,
      10914 / 5312221.0,
      9128  / 5312221.0,
      7140  / 5312221.0,
      4361  / 5312221.0,
      2299  / 5312221.0,
      1706  / 5312221.0,
      1427  / 5312221.0,
      1230  / 5312221.0,
      988   / 5312221.0,
      661   / 5312221.0,
      349   / 5312221.0,
      250   / 5312221.0,
      155   / 5312221.0,
      77    / 5312221.0,
      61    / 5312221.0,
      25    / 5312221.0,
      11    / 5312221.0,
      7     / 5312221.0
    ]
  end

  def self.female_age_repartition
    [
      61909 / 5527684.0,
      62366 / 5527684.0,
      61537 / 5527684.0,
      61341 / 5527684.0,
      59827 / 5527684.0,
      59055 / 5527684.0,
      57797 / 5527684.0,
      57164 / 5527684.0,
      58478 / 5527684.0,
      59140 / 5527684.0,
      58672 / 5527684.0,
      58955 / 5527684.0,
      59964 / 5527684.0,
      60106 / 5527684.0,
      59472 / 5527684.0,
      59629 / 5527684.0,
      62381 / 5527684.0,
      64696 / 5527684.0,
      65855 / 5527684.0,
      65888 / 5527684.0,
      65478 / 5527684.0,
      65965 / 5527684.0,
      65728 / 5527684.0,
      66321 / 5527684.0,
      65684 / 5527684.0,
      67099 / 5527684.0,
      67419 / 5527684.0,
      69308 / 5527684.0,
      70686 / 5527684.0,
      71936 / 5527684.0,
      70581 / 5527684.0,
      70231 / 5527684.0,
      69628 / 5527684.0,
      68665 / 5527684.0,
      67751 / 5527684.0,
      69859 / 5527684.0,
      71748 / 5527684.0,
      74745 / 5527684.0,
      76479 / 5527684.0,
      76885 / 5527684.0,
      76370 / 5527684.0,
      76328 / 5527684.0,
      76469 / 5527684.0,
      79081 / 5527684.0,
      80683 / 5527684.0,
      83574 / 5527684.0,
      82079 / 5527684.0,
      80333 / 5527684.0,
      80790 / 5527684.0,
      79465 / 5527684.0,
      80030 / 5527684.0,
      77801 / 5527684.0,
      76204 / 5527684.0,
      75114 / 5527684.0,
      74209 / 5527684.0,
      72394 / 5527684.0,
      70166 / 5527684.0,
      69473 / 5527684.0,
      66833 / 5527684.0,
      67110 / 5527684.0,
      66018 / 5527684.0,
      66966 / 5527684.0,
      66013 / 5527684.0,
      65744 / 5527684.0,
      56065 / 5527684.0,
      55364 / 5527684.0,
      52427 / 5527684.0,
      46013 / 5527684.0,
      42154 / 5527684.0,
      47134 / 5527684.0,
      51068 / 5527684.0,
      51428 / 5527684.0,
      48833 / 5527684.0,
      47747 / 5527684.0,
      47086 / 5527684.0,
      47387 / 5527684.0,
      46590 / 5527684.0,
      47917 / 5527684.0,
      46896 / 5527684.0,
      46039 / 5527684.0,
      41688 / 5527684.0,
      39451 / 5527684.0,
      36769 / 5527684.0,
      35000 / 5527684.0,
      32979 / 5527684.0,
      29895 / 5527684.0,
      27343 / 5527684.0,
      23793 / 5527684.0,
      21142 / 5527684.0,
      18106 / 5527684.0,
      11479 / 5527684.0,
      6823  / 5527684.0,
      5425  / 5527684.0,
      4833  / 5527684.0,
      4550  / 5527684.0,
      4031  / 5527684.0,
      2867  / 5527684.0,
      2022  / 5527684.0,
      1388  / 5527684.0,
      904   / 5527684.0,
      556   / 5527684.0,
      360   / 5527684.0,
      205   / 5527684.0,
      106   / 5527684.0,
      88    / 5527684.0
    ]
  end

end
